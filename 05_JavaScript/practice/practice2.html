<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카테고리 선택</title>
    <style>
        .area {  
            height: 70px;
            border: 1px solid black;
            padding: 10px;
        }
        .area1 {
            height: 150px;
            border: 2px solid red;
            padding: 10px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Practice1</h1>
    
    <fieldset class="area">
        <legend>취미</legend>
        <table>
            <tr>
                <td>
                    <label>
                        <input id="all-hobby-box" type="checkbox" onchange="allCheck(this)"> 전체선택
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="종합"> 종합
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="소설"> 소설
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="시/에세이"> 시/에세이
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="경제/경영"> 경제/경영
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="자기개발"> 자기개발
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="아동"> 아동
                    </label>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="여행"> 여행
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="과학"> 과학
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="역사/문화"> 역사/문화
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="외국어"> 외국어
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="컴퓨터"> 컴퓨터
                    </label>
                </td>
                <td>
                    <label>
                        <input type="checkbox" name="hobby" value="만화"> 만화
                    </label>
                </td>
            </tr>
                
    </table>
    </fieldset>
    <br>

    <button onclick="wrightHobbyList()">카테고리 선택</button>
    <div class="area1" id="area1"></div>
        
    <script>
        //체크된 hobby목록의 값을 전부 area에 출력
        function wrightHobbyList(){
            const area = document.querySelector("#area1");

            const hobbyList = document.getElementsByName("hobby");
            let str ="";
            for(let box of hobbyList){
                if(box.checked){
                    str += box.value + " ";
                }
            }

            area.innerHTML = str;
        }

       function allCheck(_allCheckBox){
            //전체선택 체크여부
            let checked = _allCheckBox.checked;

            //checked -> true 모든 체크박스를 체크
            //checked -> false 모든 체크박스 체크 해제
            const hobbyCheckBoxList = document.getElementsByName("hobby");
            for(let box of hobbyCheckBoxList){
                box.checked = checked;
            }
       }
       
       //모든체크박스의 체크여부 검사
       function isAllChecked(selector){
            const checkBoxList = document.querySelectorAll(selector);
            for(let box of checkBoxList){
                if(!box.checked) {
                    return false;
                }
            }
            return true;
       }

       function addHobbyEvent(){
            const _allCheckBox = document.getElementById('all-hobby-box');
            const hobbyCheckBoxList = document.getElementsByName("hobby"); 


            for(let box of hobbyCheckBoxList){
                //모든 체크박스의 체크여부를 확인해서 결과에 따라
                //all체크박스의 체크여부를 변경한다.
                box.onclick = function(){
                    let isChecked = isAllChecked('input[name="hobby"]');
                    _allCheckBox.checked = isChecked;
                }
            }
       }

       addHobbyEvent();
    </script>
</body>
</html>
